// src/views/cafeData.ts

// ê°œë³„ ë©”ë‰´ íƒ€ì…
export type CafeMenu = {
  slug: string
  name: string
  price: number
  description?: string
}

// ì¹´í…Œê³ ë¦¬ íƒ€ì…
export type CafeCategory = {
  key: string        // 'coffee' | 'non' | ...
  title: string      // 'ğŸŸ« ì»¤í”¼'
  icon: string       // â˜•ï¸
  menus: CafeMenu[]
}

// ë§¤ì¥ ì •ë³´ (í›„ìƒê´€ / ì§„ìˆ˜ë‹¹)
export const cafeStores = [
  { id: 'hus', name: 'ì¿±ì¹´í˜ í›„ìƒê´€ì ', subtitle: 'í›„ìƒê´€ 1ì¸µ ì¹´í˜' },
  { id: 'jin', name: 'ì¿±ì¹´í˜ ì§„ìˆ˜ë‹¹ì ', subtitle: 'ì§„ìˆ˜ë‹¹ 1ì¸µ ì¹´í˜' },
] as const

// ê¸°ë³¸ ê°€ê²© í—¬í¼ (í•„ìš”í•˜ë©´ ë‚˜ì¤‘ì— ë¡œì§ ë” ì¶”ê°€ ê°€ëŠ¥)
const price = (base: number = 3800) => base

// ------------------------
//  ì¹´í…Œê³ ë¦¬ë³„ ë©”ë‰´ ì›ë³¸ ë¦¬ìŠ¤íŠ¸
// ------------------------

const coffee = [
  'ì•„ë©”ë¦¬ì¹´ë…¸',
  'ì¹´í˜ë¼ë–¼',
  'ë°”ë‹ë¼ë¼ë–¼',
  'í—¤ì´ì¦ë„›ë¼ë–¼',
  'ì¹´ë¼ë©œë¼ë–¼',
  'ì¹´ë¼ë©œë§ˆë¼ì•„ë˜',
  'ì¹´í‘¸ì¹˜ë…¸',
  'ëŒì²´ë¼ë–¼',
  'ì—°ìœ ë¼ë–¼',
  'ë°”ë‹ë¼ë¹ˆ ë¼ë–¼',
  'ë¡œíˆ¬ìŠ¤ë¼ë–¼',
  'í¬ë¦¼ë¼ë–¼(ìƒí¬ë¦¼ ë¼ë–¼)',
  'ì½œë“œë¸Œë£¨',
  'ì½œë“œë¸Œë£¨ ë¼ë–¼',
  'í‘ë‹¹ ì½œë“œë¸Œë£¨',
  'íœ˜í•‘ ë¼ë–¼',
  'ì¹´í˜ëª¨ì¹´',
  'í™”ì´íŠ¸ëª¨ì¹´',
  'ì´ˆì½”ëª¨ì¹´',
  'ì—ìŠ¤í”„ë ˆì†Œ ë”ë¸”ìƒ·',
  'ì•„í¬ê°€í† ',
  'ë¯¼íŠ¸ëª¨ì¹´ë¼ë–¼',
  'ì•„ì´ë¦¬ì‹œ ì»¤í”¼(ë¹„ì•Œì½œ)',
]

const nonCoffee = [
  'í•«ì´ˆì½”',
  'ì•„ì´ìŠ¤ì´ˆì½”',
  'ë¯¼íŠ¸ì´ˆì½”',
  'ê³¡ë¬¼ë¼ë–¼',
  'ê³ êµ¬ë§ˆë¼ë–¼',
  'í™ì‚¼ë¼ë–¼',
  'ë§ì°¨ë¼ë–¼',
  'ë¡œíˆ¬ìŠ¤ë¼ë–¼',
  'ì´ˆì½”ë¼ë–¼',
  'ë°”ë‚˜ë‚˜ë¼ë–¼',
  'ë°€í¬í‹°ë¼ë–¼',
  'ë”¸ê¸°ë¼ë–¼',
  'ë³µìˆ­ì•„ë¼ë–¼',
]

const tea = [
  'ì–¼ê·¸ë ˆì´',
  'ì‰ê¸€ë¦¬ì‹œë¸Œë ‰í¼ìŠ¤íŠ¸',
  'ë£¨ì´ë³´ìŠ¤',
  'í˜í¼ë¯¼íŠ¸',
  'ìºëª¨ë§ˆì¼',
  'íˆë¹„ìŠ¤ì»¤ìŠ¤',
  'ê·¸ë¦°í‹°',
  'ë ˆëª¬í‹°',
  'ìœ ìì°¨',
  'ìëª½ì°¨',
  'ëŒ€ì¶”ì°¨',
  'ìƒê°•ì°¨',
  'ê¿€ë ˆëª¬í‹°',
  'ë°€í¬í‹°',
  'ë¸”ë™í‹°',
  'í”¼ì¹˜ì–¼ê·¸ë ˆì´í‹°',
]

const smoothie = [
  'ë”¸ê¸°ìŠ¤ë¬´ë””',
  'ë§ê³ ìŠ¤ë¬´ë””',
  'í‚¤ìœ„ìŠ¤ë¬´ë””',
  'ë¸”ë£¨ë² ë¦¬ìŠ¤ë¬´ë””',
  'ìš”ê±°íŠ¸ìŠ¤ë¬´ë””',
  'í”Œë ˆì¸ìš”ê±°íŠ¸ìŠ¤ë¬´ë””',
  'ìëª½ìŠ¤ë¬´ë””',
  'ë©”ë¡ ìŠ¤ë¬´ë””',
  'ì˜¤ë Œì§€ ìŠ¤ë¬´ë””',
  'ê·¸ë¦°í‹° í”„ë¼í˜',
  'ëª¨ì¹´ í”„ë¼í˜',
  'ì´ˆì½” í”„ë¼í˜',
  'ì¿ í‚¤ì•¤í¬ë¦¼ í”„ë¼í˜',
  'ìë°”ì¹© í”„ë¼í˜',
  'ë ˆë“œë²¨ë²³ í”„ë¼í˜',
]

const ade = [
  'ë ˆëª¬ì—ì´ë“œ',
  'ìëª½ì—ì´ë“œ',
  'ì²­í¬ë„ì—ì´ë“œ',
  'ë¸”ë£¨ë ˆëª¬ì—ì´ë“œ',
  'ë¼ì„ì—ì´ë“œ',
  'ë³µìˆ­ì•„ì—ì´ë“œ',
  'ë”¸ê¸°ì—ì´ë“œ',
  'ì˜¤ë Œì§€ì—ì´ë“œ',
  'ì²´ë¦¬ì—ì´ë“œ',
  'íŒ¨ì…˜í›„ë¥´ì¸  ì—ì´ë“œ',
  'ì• í”Œë§ê³  ì—ì´ë“œ',
]

const juice = [
  'ìƒì˜¤ë Œì§€ì£¼ìŠ¤',
  'ìƒìëª½ì£¼ìŠ¤',
  'ë”¸ê¸°ì£¼ìŠ¤',
  'ë”¸ê¸°ë°”ë‚˜ë‚˜ì£¼ìŠ¤',
  'í‚¤ìœ„ì£¼ìŠ¤',
  'ìˆ˜ë°•ì£¼ìŠ¤',
  'ë©œë¡ ì£¼ìŠ¤',
  'ë§ê³ ì£¼ìŠ¤',
  'íŒŒì¸ì• í”Œì£¼ìŠ¤',
  'ë°°ì£¼ìŠ¤',
]

const dessert = [
  'í‹°ë¼ë¯¸ìˆ˜',
  'ì¹˜ì¦ˆì¼€ì´í¬',
  'ë ˆì–´ì¹˜ì¦ˆì¼€ì´í¬',
  'ì´ˆì½”ì¼€ì´í¬',
  'ìƒí¬ë¦¼ì¼€ì´í¬',
  'ë‹¹ê·¼ì¼€ì´í¬',
  'ê³ êµ¬ë§ˆì¼€ì´í¬',
  'ë°”ë‚˜ë‚˜ì¼€ì´í¬',
  'ì¿ í‚¤ì•¤í¬ë¦¼ì¼€ì´í¬',
  'ë¸”ë£¨ë² ë¦¬ ìš”ê±°íŠ¸ì¼€ì´í¬',
  'ë§ˆì¹´ë¡±',
  'ë¬´ì§€ê°œì¼€ì´í¬',
  'í¬ë ˜ë¸Œë¥„ë ˆ',
]

const bakery = [
  'í¬ë¡œì•„ìƒ',
  'ë²„í„°í¬ë¡œì•„ìƒ',
  'ì´ˆì½”í¬ë¡œì•„ìƒ',
  'ì•„ëª¬ë“œí¬ë¡œì•„ìƒ',
  'ë°”ê²ŒíŠ¸',
  'ì†Œê¸ˆë¹µ',
  'ì¹˜ì¦ˆì†Œê¸ˆë¹µ',
  'ëª…ë€ë°”ê²ŒíŠ¸',
  'í”Œë ˆì¸ìŠ¤ì½˜',
  'ë¸”ë£¨ë² ë¦¬ìŠ¤ì½˜',
  'ì´ˆì½”ì¹©ìŠ¤ì½˜',
  'ë§ˆëŠ˜ë°”ê²ŒíŠ¸',
  'ì‹œë‚˜ëª¬ë¡¤',
  'í˜ìŠ¤ì¸„ë¦¬(ì• í”Œ, ë”¸ê¸°, í”¼ì¹˜)',
  'ë² ì´ê¸€(í”Œë ˆì¸/ë¸”ë£¨ë² ë¦¬/ì–´ë‹ˆì–¸)',
  'í¬ë¦¼ì¹˜ì¦ˆ ë² ì´ê¸€',
]

const icecream = [
  'ë°”ë‹ë¼ ì•„ì´ìŠ¤í¬ë¦¼',
  'ì´ˆì½” ì•„ì´ìŠ¤í¬ë¦¼',
  'ë§ê³  ì•„ì´ìŠ¤í¬ë¦¼',
  'ìš”ê±°íŠ¸ ì•„ì´ìŠ¤í¬ë¦¼',
  'ë°€í¬ì‰ì´í¬',
  'ìŠ¤íŠ¸ë¡œë² ë¦¬ì‰ì´í¬',
  'ì´ˆì½”ì‰ì´í¬',
  'ë°”ë‹ë¼ì‰ì´í¬',
  'ì¿ í‚¤ì‰ì´í¬',
]

// ------------------------
//  slug / description í—¬í¼
// ------------------------

// URL-safe slugë¡œ ë³€í™˜
const slugify = (value: string) =>
  value
    .normalize('NFD')
    .replace(/[\u0300-\u036f]/g, '')
    .replace(/\s+/g, '-')
    .replace(/[()/.]/g, '')
    .toLowerCase()

// ì¹´í…Œê³ ë¦¬ë³„ ê¸°ë³¸ ì„¤ëª…(ì£¼ë¬¸ í™”ë©´/ë¦¬ìŠ¤íŠ¸ì—ì„œ ì‚¬ìš© ê°€ëŠ¥)
const baseDescriptions: Record<string, string> = {
  coffee: 'ë§¤ì¥ì—ì„œ ë°”ë¡œ ì¶”ì¶œí•œ ì»¤í”¼ ë©”ë‰´',
  non: 'ì»¤í”¼ê°€ ë¶€ë‹´ìŠ¤ëŸ¬ìš´ ë¶„ë“¤ì„ ìœ„í•œ ìŒë£Œ',
  tea: 'í–¥ê¸‹í•œ í‹°ì™€ ë”°ëœ»í•œ ìŒë£Œ',
  smoothie: 'ì‹œì›í•˜ê²Œ ì¦ê¸°ëŠ” ìŠ¤ë¬´ë””/í”„ë¼í˜ ë©”ë‰´',
  ade: 'ìƒí¼í•œ íƒ„ì‚° ì—ì´ë“œ ë©”ë‰´',
  juice: 'ì‹ ì„ í•œ ê³¼ì¼ ì£¼ìŠ¤ ë©”ë‰´',
  dessert: 'ì»¤í”¼ì™€ í•¨ê»˜ ì¦ê¸°ëŠ” ë””ì €íŠ¸',
  bakery: 'ë§¤ì¥ì—ì„œ êµ¬ìš´ ë² ì´ì»¤ë¦¬',
  icecream: 'ì°¨ê°‘ê²Œ ì¦ê¸°ëŠ” ì•„ì´ìŠ¤í¬ë¦¼/ì‰ì´í¬',
}

// ë¬¸ìì—´ ë°°ì—´ â†’ CafeMenu ë°°ì—´ë¡œ ë§¤í•‘
const mapMenus = (
  categoryKey: string,
  items: string[],
  customPrice?: number,
): CafeMenu[] =>
  items.map((name, index) => ({
    slug: `${categoryKey}-${slugify(name)}-${index}`, // ì£¼ë¬¸ í™”ë©´ì—ì„œ ì°¾ì„ ë•Œ ì‚¬ìš©
    name,
    price: customPrice ?? price(),
    description: baseDescriptions[categoryKey] ?? 'ì¹´í˜ ë©”ë‰´',
  }))

// ------------------------
//  ìµœì¢… ì¹´í…Œê³ ë¦¬ ëª©ë¡
// ------------------------

export const cafeCategories: CafeCategory[] = [
  {
    key: 'coffee',
    title: 'ğŸŸ« ì»¤í”¼',
    icon: 'â˜•ï¸',
    menus: mapMenus('coffee', coffee, 2800),
  },
  {
    key: 'non',
    title: 'ğŸŸ© ë…¼ì»¤í”¼',
    icon: 'ğŸ¥›',
    menus: mapMenus('non', nonCoffee, 3200),
  },
  {
    key: 'tea',
    title: 'ğŸŸ§ í‹°',
    icon: 'ğŸµ',
    menus: mapMenus('tea', tea, 3000),
  },
  {
    key: 'smoothie',
    title: 'ğŸŸ¦ ìŠ¤ë¬´ë””/í”„ë¼í˜',
    icon: 'ğŸ¥¤',
    menus: mapMenus('smoothie', smoothie, 3800),
  },
  {
    key: 'ade',
    title: 'ğŸ’› ì—ì´ë“œ',
    icon: 'ğŸ¹',
    menus: mapMenus('ade', ade, 3300),
  },
  {
    key: 'juice',
    title: 'ğŸ‹ ê³¼ì¼ ì£¼ìŠ¤',
    icon: 'ğŸŠ',
    menus: mapMenus('juice', juice, 3600),
  },
  {
    key: 'dessert',
    title: 'ğŸ§ ë””ì €íŠ¸',
    icon: 'ğŸ§',
    menus: mapMenus('dessert', dessert, 4200),
  },
  {
    key: 'bakery',
    title: 'ğŸ¥ ë² ì´ì»¤ë¦¬',
    icon: 'ğŸ¥',
    menus: mapMenus('bakery', bakery, 3500),
  },
  {
    key: 'icecream',
    title: 'ğŸ¨ ì•„ì´ìŠ¤í¬ë¦¼/ëƒ‰ë©”ë‰´',
    icon: 'ğŸ¨',
    menus: mapMenus('icecream', icecream, 3700),
  },
] as const

// ------------------------
//  ì£¼ë¬¸/ìƒì„¸ í™”ë©´ì—ì„œ ì“°ê¸° ì¢‹ì€ í—¬í¼
// ------------------------

// ëª¨ë“  ì¹´í˜ ë©”ë‰´ ì¼ëŒ
export const allCafeMenus: CafeMenu[] = cafeCategories.flatMap((cat) => cat.menus)

// slugë¡œ ë©”ë‰´ ì°¾ê¸° (ì£¼ë¬¸ í™”ë©´ì—ì„œ ì‚¬ìš©)
export const findCafeMenuBySlug = (slug: string): CafeMenu | undefined =>
  allCafeMenus.find((m) => m.slug === slug)
